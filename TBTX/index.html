<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,minimum-scale=1,user-scalable=no">
    <title>淘宝天下邀请函</title>
    <script src="./js/zepto.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="css/common.css" />
</head>
<body>
<section class="sub_box">
    <form class="sub_form">
        <input type="text" class="input_name input1" >
        <input type="text" class="input_company input1" >
        <input type="text" class="input_office input1" >
        <input type="text" class="input_phone input1" >
        <input type="submit" class="sub_btn" value="&nbsp;"/>
    </form>
    <div class="close_btn"><a href="javascript:;">&nbsp;</a></div>
    <div class="logo_bottom"><img src="./img/logo_bottom.png" alt="阿里巴巴集团 浙江日报报业集团"/></div>
</section>
<div class="fm_stage">
    <section class="fm fm1">
        <img src="./img/star1.png" class="abs fm1_star2 star3"/>
        <img src="./img/star2.png" class="abs fm1_star1 star3"/>
        <img src="./img/star2.png" class="abs fm1_star3 star3"/>
        <img src="./img/star_line.png" class="abs fm1_line1 star_line"/>
        <img src="./img/star_line.png" class="abs fm1_line2 animated delay2 star_line"/>
        <img src="./img/fm1_word1.gif" class="abs fm1_word1 star2"/>
        <img src="./img/fm1_line.gif" class="abs fm1_line"/>
        <img src="./img/fm1_light.png" class="abs fm1_line light animated fadeInLeft hinge"/>
        <img src="./img/fm1_moon.png" class="abs fm1_moon"/>
        <div class="abs fm1_circle1 inmid"><img src="./img/fm1_circle1.gif" class="Clockwise"/></div>
    </section>
    <section class="fm fm2">
        <img src="./img/fm2_line1.png" class="abs fm2_line1 animated fadeInRight"/>
        <img src="./img/fm2_word1.png" class="abs fm2_word1 animated delay1 fadeInLeft"/>
        <img src="./img/fm2_word2.png" class="abs fm2_word2 animated delay1 fadeInRight"/>
        <img src="./img/fm2_word3.png" class="abs fm2_word3 animated delay2 fadeInUp"/>
        <img src="./img/fm2_word4.png" class="abs fm2_word4 animated delay2 fadeInDown"/>
        <div class="abs fm2_word5 inmid"><img src="./img/fm2_word5.gif" /></div>
        <div class="abs fm2_circle1 inmid"><img src="./img/fm2_circle1.png" class="Clockwise"/></div>
        <div class="abs fm2_circle2 inmid"><img src="./img/fm2_circle2.png" class="Clockwise4"/></div>
        <div class="abs fm2_line2 inmid"><img src="./img/fm2_line2.gif" class="animated zoomIn"/></div>
        <div class="logo_bottom"><img src="./img/logo_bottom.png" alt="阿里巴巴集团 浙江日报报业集团"/></div>
    </section>
    <section class="fm fm3_1">
        <img src="./img/fm3_word1.png" class="abs fm3_word1 animated fadeInUp"/>
        <img src="./img/fm3_word2.png" class="abs fm3_word2 animated delay1 fadeInDown"/>
        <div class="abs fm3_1circle1"><img src="./img/fm3_1circle1.gif" class="Clockwise"/></div>
        <div class="abs fm3_1circle2"><img src="./img/fm3_1circle2.gif" class="Clockwise2"/></div>
        <div class="fm3_1txt1 inR"><img src="./img/fm3_1txt1.gif" class="txt_rotateY2"/></div>
    </section>
    <section class="fm fm3_2">
        <img src="./img/fm_square2.gif" class="abs fm3_square1 Clockwise2"/>
        <img src="./img/fm_square3.gif" class="abs fm3_square3 scale1"/>
        <img src="./img/fm3_circle2_1.gif" class="abs fm3_circle2_1 Clockwise3"/>
        <img src="./img/fm3_circle2_2.gif" class="abs fm3_circle2_2"/>
        <div class="fm3_2txt1 inR"><img src="./img/fm3_2txt1.gif" class="txt_rotateY2"/></div>
        <div class="fm3_2txt2 inL"><img src="./img/fm3_2txt2.gif" class="txt_rotateY1"/></div>
        <div class="fm3_2txt3 inR"><img src="./img/fm3_2txt3.gif" class="txt_rotateY2"/></div>
        <div class="fm3_2txt4 inL"><img src="./img/fm3_2txt4.gif" class="txt_rotateY1"/></div>
        <div class="fm3_2txt5 inR"><img src="./img/fm3_2txt5.gif" class="txt_rotateY2"/></div>
        <div class="logo_bottom"><img src="./img/logo_bottom.png" alt="阿里巴巴集团 浙江日报报业集团"/></div>
    </section>
    <section class="fm fm4">
        <img src="./img/star1.png" class="abs fm1_star2 star3"/>
        <img src="./img/star2.png" class="abs fm1_star1 star3"/>
        <span class="fm_circle2 star"></span>
        <img src="./img/fm4_word1.png" class="abs fm4_word1 animated fadeInUp"/>
        <img src="./img/fm4_word2.png" class="abs fm4_word2 animated delay1 fadeInDown"/>
        <div class="abs fm4_img1 inmid"><img src="./img/fm4_img1.gif" class="bowTie"/></div>
        <div class="inner_fm inner_fm4">
            <span class="arrowL"></span>
            <ul class="ifm_list ifm_list1">
                <li class="ifm_li fm4_li1">1</li>
                <li class="ifm_li fm4_li1">2</li>
                <li class="ifm_li fm4_li1">3</li>
                <li class="ifm_li fm4_li1">4</li>
            </ul>
            <span class="arrowR"></span>
        </div>
    </section>
    <section class="fm fm5_1">
        <img src="./img/star_line.png" class="abs fm1_line1 star_line"/>
        <img src="./img/fm4_word1.png" class="abs fm4_word1 animated fadeInLeft"/>
        <img src="./img/fm5_1word2.png" class="abs fm4_word2 animated fadeInRight"/>
        <div class="fm5_1_word1"></div>
    </section>
    <section class="fm fm5_2">
        <img src="./img/fm4_word1.png" class="abs fm4_word1 animated fadeInLeft"/>
        <img src="./img/fm5_1word2.png" class="abs fm4_word2 animated fadeInRight"/>
        <img src="./img/star2.png" class="abs fm1_star1 star3"/>
        <img src="./img/fm_square2.gif" class="abs fm3_square1 Clockwise2"/>
        <span class="fm_circle1 star"></span>
        <span class="fm_circle2 star"></span>
        <div class="fm5_2_word1"></div>
    </section>
    <section class="fm fm5_3">
        <img src="./img/star1.png" class="abs fm1_star2 star3"/>
        <img src="./img/fm_square1.gif" class="abs fm3_square3 scale1"/>
        <span class="fm_circle3 star"></span>
        <span class="fm_circle4 star"></span>
        <div class="fm5_3_word1"></div>
        <div class="logo_bottom"><img src="./img/logo_bottom.png" alt="阿里巴巴集团 浙江日报报业集团"/></div>
    </section>
    <section class="fm fm6">
        <img src="./img/fm6_circle.png" class="abs fm6_circle1 wave"/>
        <img src="./img/fm6_circle.png" class="abs fm6_circle2 wave"/>
        <img src="./img/fm6_circle.png" class="abs fm6_circle3 wave"/>
        <img src="./img/fm6_circle.png" class="abs fm6_circle4 wave"/>
        <img src="./img/fm6_circle.png" class="abs fm6_circle5 wave"/>
        <img src="./img/fm4_word1.png" class="abs fm4_word1 animated fadeInUp"/>
        <img src="./img/fm6_word1.gif" class="abs fm4_word2 animated delay1 fadeInDown"/>
        <div class="abs fm6_ball1"><img src="./img/fm6_ball.png" class="ball1"/></div>
        <div class="abs fm6_ball2"><img src="./img/fm6_ball.png" class="ball2"/></div>
        <div class="abs fm6_square"><img src="./img/fm6_square.png" class="square1"/></div>
        <div class="inner_fm inner_fm6">
            <span class="arrowL"></span>
            <ul class="ifm_list ifm_list2">
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
                <li class="ifm_li fm6_li1"></li>
            </ul>
            <span class="arrowR"></span>
        </div>
        <div class="logo_bottom"><img src="./img/logo_bottom.png" alt="阿里巴巴集团 浙江日报报业集团"/></div>
    </section>
    <section class="fm fm7">
        <img src="./img/star2.png" class="abs fm1_star1 star3"/>
        <img src="./img/fm4_word1.png" class="abs fm4_word1 animated fadeInLeft"/>
        <img src="./img/fm7_word1.gif" class="abs fm4_word2 animated fadeInRight"/>
        <span class="fm_circle5 star"></span>
        <img src="./img/fm_square2.gif" class="abs fm3_square1 Clockwise2"/>
        <div class="inner_fm inner_fm7">
            <ul class="ifm_list ifm_list3">
                <li class="ifm_li fm7_li1"></li>
                <li class="ifm_li fm7_li1"></li>
            </ul>
            <div class="btn_list"><span class="btn_li cur"></span><span class="btn_li"></span></div>
        </div>
        <div class="logo_bottom"><img src="./img/logo_bottom.png" alt="阿里巴巴集团 浙江日报报业集团"/></div>
    </section>
    <section class="fm fm8">
        <img src="./img/star2.png" class="abs fm1_star1 star3"/>
        <div class="abs fm8_map"><div class="fm8_mask">&nbsp;</div></div>
        <div class="logo_bottom"><img src="./img/logo_bottom.png" alt="阿里巴巴集团 浙江日报报业集团"/></div>
    </section>
    <section class="fm fm9">
        <div class="abs fm9_circle1 Clockwise4"></div>
        <img src="./img/fm9_word1.gif" class="abs fm9_word1 bowTie2"/>
        <a href="join1.html" class="fm9_btn1"><img class="animated fadeInRight" src="./img/fm9_btn1.jpg" alt="我想要去现场 现场票 800元"/></a>
        <a href="join2.html" class="fm9_btn2"><img class="animated fadeInLeft" src="./img/fm9_btn2.jpg" alt="我无法来现场 视频直播票 200元"/></a>
        <a href="javascript:;" class="fm9_btn3 join_btn"><img src="./img/fm9_btn3.jpg" alt="媒体合作"/></a>
        <a href="javascript:;" class="fm9_btn4 join_btn"><img src="./img/fm9_btn4.jpg" alt="商务合作"/></a>
        <img src="./img/star2.png" class="abs fm1_star1 star3"/>
        <div class="logo_bottom"><img src="./img/logo_bottom.png" alt="阿里巴巴集团 浙江日报报业集团"/></div>
        <a href="circle/index.html" class="abs boc_logo"><img src="./img/boc_logo.jpg"/></a>
    </section>
</div>
<script type="text/javascript">
    $(function(){
        function rSlideX2(param){ //wrap_obj，fm，move_speed，min_move，arrowL，arrowR
            var body_width = document.documentElement.clientWidth;
            var body_height = document.documentElement.clientHeight;
            var wrap_obj = (param && param.wrap_obj && $(param.wrap_obj)) || $(".fm_stage");
            var fm = wrap_obj.children();
            var fm_len = fm.length;
            var starPoint,nowPoint,moveSpace;
            var move_speed = (param && param.move_speed) || 300; //翻转速度
            var min_move = (param && param.min_move) || 40; //翻转触发最小距离
            var btnLi = (param && param.btnLi && $(param.btnLi)) || wrap_obj.next(".btn_list").children(".btn_li");
            var arrowL = (param && param.arrowL && $(param.arrowL)) || wrap_obj.prev(".arrowL");
            var arrowR = (param && param.arrowR && $(param.arrowR)) || wrap_obj.next(".arrowR");
            var per = 0,per2;
            var cur_index = 0;
            var fm_left,fm_mid = wrap_obj.children(".fm_mid"), fm_right;
            var change = function(obj,translateX,time,callback,bezier){
                var bezier = bezier ? bezier : "linear";
                obj.css({ '-webkit-transform':"translateX("+translateX+"%)",'-webkit-transition':time+'ms '+bezier, 'transform':"translateX("+translateX+"%)",'transition':time+'ms '+bezier });
                if(callback){
                    setTimeout(function(){  //fm_mid,fm_left,fm_right重置
                        //debugger;
                        if(param && param.hasBtn){ btnLi.removeClass("cur").eq(cur_index).addClass("cur"); }
                        fm.removeClass("fm_mid").removeClass("fm_left").removeClass("fm_right");
                        fm.eq(cur_index).addClass("fm_mid");
                        if(cur_index==fm_len-1){
                            fm.eq(0).addClass("fm_right");
                        }else{
                            fm.eq(cur_index+1).addClass("fm_right");
                        }
                        if(cur_index==0){
                            fm.eq(fm_len-1).addClass("fm_left");
                        }else{
                            fm.eq(cur_index-1).addClass("fm_left");
                        }
                        fm.removeClass("fm_active");
                        //animation
                        fm.removeClass("cur").children(".animated").removeClass("in");
                        fm.eq(cur_index).addClass("cur").children(".animated").addClass("in");
                    },time)
                }

            }
            var touchevent = {
                mystar: function(e){
                    e.stopPropagation();
                    e.preventDefault();
                    starPoint = e.touches[0].pageX;
                    cur_index = $(this).index();
                },
                mymove: function(e){
                    e.stopPropagation();
                    e.preventDefault();
                    nowPoint = e.touches[0].pageX;
                    moveSpace = nowPoint-starPoint;
                    per = moveSpace/body_width;
                    per2 = 1-Math.abs(per);
                    fm_left = wrap_obj.children(".fm_left");
                    fm_mid = wrap_obj.children(".fm_mid");
                    fm_right = wrap_obj.children(".fm_right");
                    if(moveSpace>0){ //鼠标往右滑
                        fm_right.removeClass("fm_active");
                        fm_left.addClass("fm_active");
                        change(fm_left,-per2*100,0);
                        change(fm_mid,per*100,0);
                    }else /*if(cur_index<fm_len-1)*/{ //鼠标往左滑
                        fm_left.removeClass("fm_active");
                        fm_right.addClass("fm_active");
                        change(fm_right,per2*100,0);
                        change(fm_mid,per*100,0);
                    }
                },
                myend: function(e){
                    e.stopPropagation();
                    e.preventDefault();
                    if(Math.abs(moveSpace)>min_move){ //进行切屏
                        if(moveSpace>0){ //鼠标往右滑
                            if(cur_index==0){ cur_index = fm_len -1; }else{ cur_index--; }
                            change(fm_left,0,move_speed);
                            change(fm_mid,100,move_speed,true);
                        }else{ //鼠标往左滑
                            if(cur_index==fm_len-1){ cur_index = 0; }else{ cur_index++; }
                            change(fm_right,0,move_speed);
                            change(fm_mid,-100,move_speed,true);
                        }
                    }else if(moveSpace!=0){ //返回原位
                        if(moveSpace>0&&cur_index>0){ //鼠标往右滑
                            change(fm_left,-100,move_speed/2);
                        }else if(cur_index<fm_len-1){ //鼠标往左滑
                            change(fm_right,100,move_speed/2);
                        }
                        change(fm_mid,0,move_speed/2);
                    }
                    moveSpace = 0;
                }
            }
            if(param && param.hasArrow){
                arrowL.on("touchstart", "", function(e){ //点击向左按钮
                    e.stopPropagation();
                    fm_mid = wrap_obj.children(".fm_mid");
                    fm_left = wrap_obj.children(".fm_left");
                    if(cur_index==0){ cur_index = fm_len -1; }else{ cur_index--; }
                    fm_left.css({'-webkit-transform':"translateX(-100%)",'transform':"translateX(-100%)"});
                    fm_left.addClass("fm_active");
                    change(fm_left,0,move_speed);
                    change(fm_mid,100,move_speed,true);
                });
                arrowR.on("touchstart", "",function(e){ //点击向右按钮
                    e.stopPropagation();
                    fm_mid = wrap_obj.children(".fm_mid");
                    fm_right = wrap_obj.children(".fm_right");
                    if(cur_index==fm_len-1){ cur_index = 0; }else{ cur_index++; }
                    fm_right.addClass("fm_active");
                    fm_right.css({'-webkit-transform':"translateX(100%)",'transform':"translateX(100%)"});
                    //setTimeout(function(){
                        change(fm_right,0,move_speed);
                        change(fm_mid,-100,move_speed,true);
                    //},0)
                });
            }
            fm.eq(1).addClass("fm_right");
            fm.eq(fm_len-1).addClass("fm_left");
            fm.eq(0).addClass("fm_mid").addClass("cur").children(".animated").addClass("in");
            if(!param || (param && !!param.h100)){
                fm.css("height",body_height);
                wrap_obj.css("height",body_height);
            }
            fm.bind("touchstart", touchevent.mystar);
            fm.bind("touchmove", touchevent.mymove);
            fm.bind("touchend", touchevent.myend);
        }
        function rSlideY2(param){ //wrap_obj，fm，move_speed，min_move
            var body_width = document.documentElement.clientWidth;
            var body_height = document.documentElement.clientHeight;
            var wrap_obj = (param && param.wrap_obj && $(param.wrap_obj)) || $(".fm_stage");
            var fm = (param && param.fm && $(param.fm)) || $(".fm");
            var fm_len = fm.length;
            var starPoint,nowPoint,moveSpace;
            var move_speed = (param && param.move_speed) || 300; //翻转速度
            var min_move = (param && param.min_move) || 40; //翻转触发最小距离
            var per = 0,per2;
            var cur_index = 0;
            var form_rsy2 = false;
            var change = function(obj,translateY,time,bezier){
                var bezier = bezier ? bezier : "linear";
                obj.css({ '-webkit-transform':"translateY("+translateY+"%)",'-webkit-transition':time+'ms '+bezier, 'transform':"translateY("+translateY+"%)",'transition':time+'ms '+bezier });
            }
            var touchevent = {
                mystar: function(e){
                    form_rsy2 = true;
                    starPoint = e.touches[0].pageY;
                    cur_index = $(this).index();
                },
                mymove: function(e){
                    e.stopPropagation();
                    e.preventDefault();
                    nowPoint = e.touches[0].pageY;
                    moveSpace = nowPoint-starPoint;
                    per = moveSpace/body_width;
                    per2 = 1-Math.abs(per);
                    if(moveSpace>0){ //鼠标往下滑
                        $(".fm_bottom").removeClass("fm_active");
                        $(".fm_top").addClass("fm_active");
                        change($(".fm_top"),-per2*100,0);
                        $(".fm_midY").removeClass("fm_top").addClass("fm_bottom");
                        change($(".fm_midY"),per*100,0);
                    }else{ //鼠标往上滑
                        $(".fm_top").removeClass("fm_active");
                        $(".fm_bottom").addClass("fm_active");
                        change($(".fm_bottom"),per2*100,0);
                        $(".fm_midY").removeClass("fm_bottom").addClass("fm_top");
                        change($(".fm_midY"),per*100,0);
                    }
                },
                myend: function(e){
                    if(!form_rsy2) return false;
                    console.log("hhhhhh");
                    if(Math.abs(moveSpace)<min_move || (moveSpace>0 && cur_index==0) || (moveSpace<0 && cur_index==fm_len-1)){ //返回原位
                        if(moveSpace>0&&cur_index>0){ //鼠标往下滑
                            change($(".fm_top"),-100,move_speed/2);
                        }else if(cur_index<fm_len-1){ //鼠标往上滑
                            change($(".fm_bottom"),100,move_speed/2);
                        }
                        change($(".fm_midY"),0,move_speed/2);
                    }else{ //进行切屏
                        if(moveSpace>0){ //鼠标往下滑
                            if(cur_index>0){
                                cur_index--;
                                change($(".fm_top"),0,move_speed);
                                change($(".fm_midY"),100,move_speed);
                            }
                        }else if(cur_index<fm_len-1){ //鼠标往上滑
                            cur_index++;
                            change($(".fm_bottom"),0,move_speed);
                            change($(".fm_midY"),-100,move_speed);
                        }
                        //fm_midY,fm_top,fm_bottom重置
                        setTimeout(function(){
                            form_rsy2 = false;
                            fm.removeClass("fm_midY").removeClass("fm_top").removeClass("fm_bottom").removeClass("fm_active");
                            fm.eq(cur_index).addClass("fm_midY");
                            if(cur_index<fm_len-1){ fm.eq(cur_index+1).addClass("fm_bottom"); }
                            if(cur_index>0){ fm.eq(cur_index-1).addClass("fm_top"); }
                            //animation
                            fm.removeClass("cur").find(".animated").removeClass("in");
                            fm.eq(cur_index).addClass("cur").find(".animated").addClass("in");
                        },move_speed)
                    }
                    moveSpace = 0;
                }
            }
            //setting
            fm.eq(1).addClass("fm_bottom");
            fm.eq(0).addClass("fm_midY").addClass("cur").find(".animated").addClass("in");
            fm.css("height",body_height);
            wrap_obj.css("height",body_height);
            fm.bind("touchstart", touchevent.mystar);
            fm.bind("touchmove", touchevent.mymove);
            fm.bind("touchend", touchevent.myend);
        }
        $(document).ready(function() {
            for(var i= 1,len=$(".ifm_list").length+1; i<len; i++){
                rSlideX2({ "wrap_obj":".ifm_list"+i, "w_scale":"0.8", "h100": false, "hasArrow": true });
                if(i==3){
                    rSlideX2({ "wrap_obj":".ifm_list"+i, "w_scale":"0.8", "h100": false, "hasBtn": true });
                }
            }
            rSlideY2();
            $(".join_btn").on("touchstart","",function(){
                $(".sub_box").css("display","block");
            })
            $(".close_btn").on("touchstart","",function(){
                $(".sub_box").css("display","none");
            })
        });
    });
</script>
</body>
</html>